(function(e){function t(t){for(var r,o,u=t[0],s=t[1],d=t[2],i=0,l=[];i<u.length;i++)o=u[i],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&l.push(c[o][0]),c[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(l.length)l.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==c[u]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},c={app:0},a=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-249aa262":"bb8c3ae6","chunk-2d0c1056":"0be481f5","chunk-2d2311b8":"fcf4cec9","chunk-470d8baa":"f2cc939e","chunk-4bcad86d":"2e4b7d34","chunk-8dad95d6":"18e8f50a","chunk-ac60d676":"05feae15"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-249aa262":1,"chunk-470d8baa":1,"chunk-4bcad86d":1,"chunk-ac60d676":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-249aa262":"6edf4c70","chunk-2d0c1056":"31d6cfe0","chunk-2d2311b8":"31d6cfe0","chunk-470d8baa":"51d25d67","chunk-4bcad86d":"883b0bcd","chunk-8dad95d6":"31d6cfe0","chunk-ac60d676":"88268af1"}[e]+".css",c=s.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var d=a[u],i=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(i===r||i===c))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){d=l[u],i=d.getAttribute("data-href");if(i===r||i===c)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],p.parentNode.removeChild(p),n(a)},p.href=c;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){o[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=a);var d,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=u(e);var l=new Error;d=function(t){i.onerror=i.onload=null,clearTimeout(p);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}c[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:i})}),12e4);i.onerror=i.onload=d,document.head.appendChild(i)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],i=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var p=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1c3d":function(e,t,n){"use strict";n("2e24")},2290:function(e,t,n){"use strict";var r=n("1344");t["a"]=Object(r["a"])()},"2e24":function(e,t,n){},"41cb":function(e,t,n){"use strict";var r=n("6c02");const o=(e,t,n)=>{t.name?n():n({name:"home"})},c=[{path:"/",name:"home",component:()=>n.e("chunk-470d8baa").then(n.bind(null,"bb51"))},{path:"/result",name:"result",component:()=>n.e("chunk-2d2311b8").then(n.bind(null,"eeac")),beforeEnter:o},{path:"/game",name:"game",component:()=>n.e("chunk-ac60d676").then(n.bind(null,"7d36")),beforeEnter:o},{path:"/record",name:"record",component:()=>n.e("chunk-2d0c1056").then(n.bind(null,"43ef"))},{path:"/about",name:"about",component:()=>n.e("chunk-4bcad86d").then(n.bind(null,"f820"))},{path:"/:pathMatch(.*)*",name:"404",component:()=>n.e("chunk-249aa262").then(n.bind(null,"8cdb"))}];t["a"]=Object(r["a"])({routes:c,history:Object(r["b"])()})},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("7a23");const o={ref:"ui",class:["ui"]},c=Object(r["g"])("i",{class:"ui__bg-layout"},null,-1),a={key:1,class:"preload-text"};function u(e,t,n,u,s,d){const i=Object(r["w"])("router-view");return s.downloaded?(Object(r["p"])(),Object(r["d"])("div",{key:0,class:["game-container",{"is-gaming":d.isGaming}]},[Object(r["g"])("div",o,[c,Object(r["g"])(i,null,{default:Object(r["C"])(({Component:e})=>[Object(r["g"])(r["a"],{name:"slide",mode:"out-in"},{default:Object(r["C"])(()=>[(Object(r["p"])(),Object(r["d"])(Object(r["x"])(e)))]),_:2},1024)]),_:1})],512),Object(r["g"])("div",{id:s.containerId,class:"game-container__inner"},null,8,["id"])],2)):(Object(r["p"])(),Object(r["d"])("div",a," Игра загружается ... "))}var s=n("2290"),d=n("5502"),i={name:"App",data(){return{downloaded:!1,gameInstance:null,containerId:"game-container"}},computed:{isGaming(){return"game"===this.$route.name}},async mounted(){const e=await n.e("chunk-8dad95d6").then(n.bind(null,"a1b8"));this.downloaded=!0,this.stopHandlersFromUI(),this.$nextTick(()=>{this.gameInstance=e.launch(this.containerId)}),this.setEvents()},methods:{...Object(d["b"])(["addScore","setScore"]),stopHandlersFromUI(){const e=this.$refs.ui;if(!e)return setInterval(()=>this.stopHandlersFromUI(),16);const t=["mousedown","mouseup","touchstart","touchmove","touchend","touchcancel"];for(const n of t)e.addEventListener(n,e=>e.stopPropagation())},setEvents(){s["a"].on("vue:gameover",()=>{this.$router.push({name:"result"})}),s["a"].on("vue:addScore",e=>{this.addScore(e)}),s["a"].on("vue:startGame",()=>{this.setScore(0)})}},destroyed(){this.gameInstance.destroy(!1)}};n("1c3d");i.render=u;var l=i,p=n("41cb"),h=Object(d["a"])({state:{scores:{record:Number(localStorage.record||0),current:0}},getters:{getScore:e=>e.scores.current,getRecord:e=>e.scores.record},mutations:{SET_RECORD(e,t){e.scores.record=t},ADD_SCORE(e,t){e.scores.current+=t},SET_SCORE(e,t){e.scores.current=t},SAVE(e){localStorage.record=e.scores.record}},actions:{addScore({state:e,commit:t},n){t("ADD_SCORE",n),t("SET_RECORD",Math.max(e.scores.record,e.scores.current)),t("SAVE")},setScore({commit:e},t){e("SET_SCORE",t)}}}),b={methods:{goToMenu(){this.$router.push({name:"home"})},goToGame(){this.$router.push({name:"game"})}}};const f=Object(r["D"])("data-v-231986d9");Object(r["s"])("data-v-231986d9");const m={class:"popup"},g=Object(r["g"])("i",{class:"popup__bg"},null,-1),v={class:"popup__inner"},O={class:"popup__content"};Object(r["q"])();const j=f((e,t,n,o,c,a)=>(Object(r["p"])(),Object(r["d"])("div",m,[g,Object(r["g"])("div",v,[n.title?(Object(r["p"])(),Object(r["d"])("h3",{key:0,textContent:Object(r["z"])(n.title),class:"popup__title"},null,8,["textContent"])):Object(r["e"])("",!0),Object(r["g"])("div",O,[Object(r["v"])(e.$slots,"default",{},void 0,!0)])])])));var k={name:"Popup",props:{title:{type:String,default:""},bgClick:{type:Boolean,default:!0}}};n("e699");k.render=j,k.__scopeId="data-v-231986d9";var y=k;n("c1c3");Object(r["c"])(l).mixin(b).use(h).use(p["a"]).component("Popup",y).mount("#app")},"859f":function(e,t,n){},c1c3:function(e,t,n){},e699:function(e,t,n){"use strict";n("859f")}});
//# sourceMappingURL=app.2c8a054f.js.map